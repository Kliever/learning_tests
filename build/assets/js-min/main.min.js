function isWebp(){{var s=function(e){document.documentElement.classList.add(!0===e?"webp":"no-webp")};let e=new Image;e.onload=e.onerror=function(){s(2==e.height)},e.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}}isWebp();const body=document.querySelector("body"),startBlock=document.querySelector(".start-block"),startBtn=document.querySelector(".start-block__start-btn"),typesOfTasks=document.querySelector(".js-types-of-tasks"),typesOfTasksBtns=typesOfTasks.querySelectorAll(".js-types-of-tasks__item"),quizBlock=document.querySelector(".quiz-block"),headerBackBtn=document.querySelector(".header__back-btn"),questionsSections=document.querySelector(".js-types-of-questions"),questionsSectionsBtns=questionsSections.querySelectorAll(".js-types-of-questions__item"),questionQuizArea=document.querySelector(".quiz-block__question"),testAnswerArea=document.querySelector(".quiz-answer"),testBlockNextBtn=document.querySelector(".quiz-block__next-btn"),testBlockReloadBtn=(testBlockNextBtn.disabled=!0,document.querySelector(".quiz-block__reload-btn")),testBlockResultsTitle=(testBlockReloadBtn.disabled=!0,document.querySelector(".quiz-block__results-title")),testBlockResultsDescr=document.querySelector(".quiz-block__results-descr"),testBlockResultsLink=document.querySelector(".quiz-block__results-link"),quizBlockSerialNumber=document.querySelector(".quiz-block__info-num-question"),answeredQuizBlock=document.querySelector(".quiz-block__info-questions-answered"),totalQuizBlock=document.querySelector(".quiz-block__info-questions-total"),correctAnswerBlock=document.querySelector(".quiz-block__info-correct-answer-count"),incorrectAnswerBlock=document.querySelector(".quiz-block__info-incorrect-answer-count"),mainBlock=document.querySelector(".main"),loadingBlock=document.querySelector(".loading"),questionsBlock=document.querySelector(".questions-block"),answeredBlockSerialNumber=document.querySelector(".questions-block__info-num-question"),answeredQuestionsBlock=document.querySelector(".questions-block__info-questions-answered"),totalQuestionsBlock=document.querySelector(".questions-block__info-questions-total"),questionArea=document.querySelector(".questions-block__question"),questionsResultDescr=document.querySelector(".questions-block__results-descr"),questionsResultLink=document.querySelector(".questions-block__results-link"),resultQuestionsBtn=document.querySelector(".questions-block__answer-btn"),questionsNextBtn=document.querySelector(".questions-block__next-btn"),questionsReloadBtn=document.querySelector(".questions-block__reload-btn"),admin=body.classList.contains("_admin"),questionNumber=document.querySelector(".start-block__number-of-question");let listOfQuestionsNumbers,currentQuestion,juniorJsQuizLoad=!1,HTMLQuizLoad=!1,CSSQuizLoad=!1,juniorJsQuestionsFileLoad=!1,HTMLQuestionsFileLoad=!1,CSSQuestionsFileLoad=!1;const juniorJsQuizFile=new XMLHttpRequest;juniorJsQuizFile.open("GET","./assets/files/juniorJsQuiz.json"),juniorJsQuizFile.responseType="json",juniorJsQuizFile.send();let juniorJsQuiz=!1;juniorJsQuizFile.onload=()=>{juniorJsQuiz=juniorJsQuizFile.response,juniorJsQuizLoad=!0};const HTMLQuizFile=new XMLHttpRequest;HTMLQuizFile.open("GET","./assets/files/HTMLQuiz.json"),HTMLQuizFile.responseType="json",HTMLQuizFile.send();let HTMLQuiz=!1;HTMLQuizFile.onload=()=>{HTMLQuiz=HTMLQuizFile.response,HTMLQuizLoad=!0};const CSSQuizFile=new XMLHttpRequest;CSSQuizFile.open("GET","./assets/files/CSSQuiz.json"),CSSQuizFile.responseType="json",CSSQuizFile.send();let CSSQuiz=!1;CSSQuizFile.onload=()=>{CSSQuiz=CSSQuizFile.response,CSSQuizLoad=!0};const juniorJsQuestionsFile=new XMLHttpRequest;juniorJsQuestionsFile.open("GET","./assets/files/juniorJsQuestions.json"),juniorJsQuestionsFile.responseType="json",juniorJsQuestionsFile.send();let JunioJsQuestions=!1;juniorJsQuestionsFile.onload=()=>{juniorJsQuestions=juniorJsQuestionsFile.response,juniorJsQuestionsFileLoad=!0};const HTMLQuestionsFile=new XMLHttpRequest;HTMLQuestionsFile.open("GET","./assets/files/HTMLQuestions.json"),HTMLQuestionsFile.responseType="json",HTMLQuestionsFile.send();let HTMLQuestions=!1;HTMLQuestionsFile.onload=()=>{HTMLQuestions=HTMLQuestionsFile.response,HTMLQuestionsFileLoad=!0};const CSSQuestionsFile=new XMLHttpRequest;CSSQuestionsFile.open("GET","./assets/files/CSSQuestions.json"),CSSQuestionsFile.responseType="json",CSSQuestionsFile.send();let CSSQuestions=!1,checkLoadFile=(CSSQuestionsFile.onload=()=>{CSSQuestions=CSSQuestionsFile.response,CSSQuestionsFileLoad=!0},setInterval(()=>{juniorJsQuizLoad,HTMLQuizLoad,CSSQuizLoad,juniorJsQuestionsFileLoad,HTMLQuestionsFileLoad,CSSQuestionsFileLoad&&(setTimeout(()=>{loadingBlock.classList.remove("_visible"),mainBlock.classList.add("_visible")},200),clearTimeout(checkLoadFile))},200));const radioBlocks=document.querySelectorAll(".js-radio-type"),switchBtns=(radioBlocks.forEach(e=>{const s=e.querySelectorAll(".js-radio-type__btn");s.forEach(e=>{e.addEventListener("click",()=>{for(let e=0;e<s.length;e++)s[e].classList.remove("_active");e.classList.add("_active")})})}),document.querySelectorAll(".js-switch-btn"));switchBtns.forEach(e=>{e.addEventListener("click",function(){this.classList.contains("_active")?this.classList.remove("_active"):this.classList.add("_active")})});let quiz=!1,questions=!1,typesOfQuestions=[],questionsFiles=[],taskArrey=[];function selectingTaskType(){for(let e=0;e<typesOfTasksBtns.length;e++)if(typesOfTasksBtns[e].classList.contains("_active"))switch(typesOfTasksBtns[e].getAttribute("data-type")){case"quiz":startBlock.classList.remove("_active"),quizBlock.classList.add("_active"),quiz=!0,questions=!1;break;case"questions":startBlock.classList.remove("_active"),questionsBlock.classList.add("_active"),quiz=!1,questions=!0}}function selectQuestionsSection(){if(questionsSectionsBtns.forEach(e=>{e.classList.contains("_active")&&typesOfQuestions.push(e.getAttribute("data-type"))}),0===typesOfQuestions.length)for(let e=0;e<questionsSectionsBtns.length;e++)typesOfQuestions.push(questionsSectionsBtns[e].getAttribute("data-type"))}startBtn.addEventListener("click",()=>{if(headerBackBtn.classList.add("_visible"),selectingTaskType(),selectQuestionsSection(),quiz){typesOfQuestions.forEach(e=>{"juniorJs"===e?questionsFiles.push(juniorJsQuiz):"HTML"===e?questionsFiles.push(HTMLQuiz):"CSS"===e&&questionsFiles.push(CSSQuiz)});for(let e=0;e<questionsFiles.length;e++)taskArrey=taskArrey.concat(questionsFiles[e].Test);correctAnswerBlock.innerText=counterOfCorrectAnswers=0,incorrectAnswerBlock.innerText=wrongAnswerCounter=0,startQuiz(taskArrey)}else if(questions){typesOfQuestions.forEach(e=>{"juniorJs"===e?questionsFiles.push(juniorJsQuestions):"HTML"===e?questionsFiles.push(HTMLQuestions):"CSS"===e&&questionsFiles.push(CSSQuestions)});for(let e=0;e<questionsFiles.length;e++)taskArrey=taskArrey.concat(questionsFiles[e].Questions);startQuestions(taskArrey)}}),headerBackBtn.addEventListener("click",()=>{startBlock.classList.add("_active"),headerBackBtn.classList.remove("_visible"),quizBlock.classList.remove("_active"),questionsBlock.classList.remove("_active"),taskArrey.length=0,questionsFiles.length=0,typesOfQuestions.length=0,testBlockResultsDescr.innerHTML="",testBlockResultsLink.innerHTML="",questionsResultDescr.innerHTML="",questionsResultLink.innerHTML="",testBlockNextBtn.disabled=!0,resultQuestionsBtn.disabled=!1,questionsNextBtn.disabled=!0,questionsReloadBtn.classList.remove("_visible")});let quizOutputResult="",counterOfCorrectAnswers,wrongAnswerCounter;function startQuiz(e){currentQuestion=1,answeredQuizBlock.innerHTML=currentQuestion,totalQuizBlock.innerHTML=""+e.length,outputQuizAndAnswers(e,listOfQuestionsNumbers=admin?[+questionNumber.value-1]:randomCicle(e.length))}function outputQuizAndAnswers(s,e){testAnswerArea.innerHTML="",quizOutputResult="";var t=e[e.length-1],n=(admin&&(quizBlockSerialNumber.innerHTML="Порядковый номер вопроса: "+s[t].number),questionQuizArea.innerHTML=""+s[t].question,randomCicle(s[t].answers.length));for(let e=0;e<s[t].answers.length;e++)quizOutputResult+=fillingAnswerArea(s,t,n[e]);testAnswerArea.innerHTML=quizOutputResult,checkValidResultTest(s,t,e)}function fillingAnswerArea(e,s,t){return`<label class="quiz-answer__checkbox checkbox"><input class="quiz-answer__check checkbox__check" type="radio" name="answer" data-status="${e[s].answers[t].status}"><span class="checkbox__box"></span><span class="checkbox__info">${e[s].answers[t].answer}</span></label>`}function checkValidResultTest(s,t,n){let i=document.querySelectorAll(".quiz-answer__check");i.forEach(e=>{e.addEventListener("click",function(){"true"===this.getAttribute("data-status")?(counterOfCorrectAnswers+=1,correctAnswerBlock.innerText=counterOfCorrectAnswers):(wrongAnswerCounter+=1,incorrectAnswerBlock.innerText=wrongAnswerCounter);for(let e=0;e<i.length;e++)"true"===i[e].getAttribute("data-status")?i[e].parentElement.classList.add("_win"):i[e].parentElement.classList.add("_lose"),i[e].disabled=!0;1<n.length?testBlockNextBtn.disabled=!1:(testBlockNextBtn.disabled=!0,testBlockReloadBtn.disabled=!1,testBlockReloadBtn.classList.add("_visible")),testBlockResultsDescr.innerHTML=s[t].explanation,testBlockResultsLink.innerHTML=`<a href="${s[t].link}" target="_blank">Читать подробнее</a>`})})}function randomCicle(s){var t=[];for(let e=0;e<s;e++)t.push(e);return t.sort(()=>Math.random()-.5)}function startQuestions(e){currentQuestion=1,answeredQuestionsBlock.innerHTML=currentQuestion,totalQuestionsBlock.innerHTML=""+e.length,outputQuestions(e,listOfQuestionsNumbers=admin?[+questionNumber.value-1]:randomCicle(e.length))}function outputQuestions(e,s){s=s[s.length-1];admin&&(answeredBlockSerialNumber.innerHTML="Порядковый номер вопроса: "+e[s].number),questionArea.innerHTML=""+e[s].question}function outputAnswers(e,s){var t=s[s.length-1];questionsResultDescr.innerHTML=""+e[t].explanation,questionsResultLink.innerHTML=`<a href="${e[t].link}" target="_blank">Читать подробнее</a>`,questionsNextBtn.disabled=!1,resultQuestionsBtn.disabled=!0,s.length<=1&&(questionsNextBtn.disabled=!0,questionsReloadBtn.classList.add("_visible"))}testBlockReloadBtn.addEventListener("click",()=>{correctAnswerBlock.innerText=counterOfCorrectAnswers=0,incorrectAnswerBlock.innerText=wrongAnswerCounter=0,startQuiz(taskArrey),testBlockReloadBtn.classList.remove("_visible")}),testBlockNextBtn.addEventListener("click",()=>{testBlockNextBtn.disabled=!0,listOfQuestionsNumbers.pop(),0<listOfQuestionsNumbers.length?(outputQuizAndAnswers(taskArrey,listOfQuestionsNumbers),currentQuestion+=1,answeredQuizBlock.innerHTML=currentQuestion,testBlockResultsDescr.innerHTML="",testBlockResultsLink.innerHTML=""):testBlockNextBtn.disabled=!0}),questionsNextBtn.disabled=!0,questionsReloadBtn.classList.remove("_visible"),questionsReloadBtn.addEventListener("click",()=>{startQuestions(taskArrey),questionsResultDescr.innerHTML="",questionsResultLink.innerHTML="",resultQuestionsBtn.disabled=!1,questionsReloadBtn.classList.remove("_visible")}),resultQuestionsBtn.addEventListener("click",()=>{outputAnswers(taskArrey,listOfQuestionsNumbers)}),questionsNextBtn.addEventListener("click",()=>{questionsNextBtn.disabled=!0,listOfQuestionsNumbers.pop(),0<listOfQuestionsNumbers.length&&(outputQuestions(taskArrey,listOfQuestionsNumbers),currentQuestion+=1,answeredQuestionsBlock.innerHTML=currentQuestion,questionsResultDescr.innerHTML="",questionsResultLink.innerHTML="",resultQuestionsBtn.disabled=!1)});